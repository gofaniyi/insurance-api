webpackJsonp([1],{"+tPU":function(t,e,r){r("xGkn");for(var n=r("7KvD"),i=r("hJx8"),o=r("/bQp"),s=r("dSzd")("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<u.length;a++){var l=u[a],c=n[l],f=c&&c.prototype;f&&!f[s]&&i(f,s,l),o[l]=o.Array}},"/bQp":function(t,e){t.exports={}},"3fs2":function(t,e,r){var n=r("RY/4"),i=r("dSzd")("iterator"),o=r("/bQp");t.exports=r("FeBl").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[n(t)]}},"4mcu":function(t,e){t.exports=function(){}},"5PlU":function(t,e,r){var n=r("RY/4"),i=r("dSzd")("iterator"),o=r("/bQp");t.exports=r("FeBl").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(n(e))}},"880/":function(t,e,r){t.exports=r("hJx8")},"94VQ":function(t,e,r){"use strict";var n=r("Yobk"),i=r("X8DO"),o=r("e6n0"),s={};r("hJx8")(s,r("dSzd")("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(s,{next:i(1,r)}),o(t,e+" Iterator")}},BO1k:function(t,e,r){t.exports={default:r("fxRn"),__esModule:!0}},EGZi:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},PzxK:function(t,e,r){var n=r("D2L2"),i=r("sB3e"),o=r("ax3d")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},RPLV:function(t,e,r){var n=r("7KvD").document;t.exports=n&&n.documentElement},"RY/4":function(t,e,r){var n=r("R9M2"),i=r("dSzd")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},W3Iv:function(t,e,r){t.exports={default:r("wEtr"),__esModule:!0}},Xd32:function(t,e,r){r("+tPU"),r("zQR9"),t.exports=r("5PlU")},Yobk:function(t,e,r){var n=r("77Pl"),i=r("qio6"),o=r("xnc9"),s=r("ax3d")("IE_PROTO"),u=function(){},a=function(){var t,e=r("ON07")("iframe"),n=o.length;for(e.style.display="none",r("RPLV").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;n--;)delete a.prototype[o[n]];return a()};t.exports=Object.create||function(t,e){var r;return null!==t?(u.prototype=n(t),r=new u,u.prototype=null,r[s]=t):r=a(),void 0===e?r:i(r,e)}},d7EF:function(t,e,r){"use strict";e.__esModule=!0;var n=o(r("us/S")),i=o(r("BO1k"));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return function(t,e){var r=[],n=!0,o=!1,s=void 0;try{for(var u,a=(0,i.default)(t);!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw s}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},dSzd:function(t,e,r){var n=r("e8AB")("wks"),i=r("3Eo+"),o=r("7KvD").Symbol,s="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=n},e6n0:function(t,e,r){var n=r("evD5").f,i=r("D2L2"),o=r("dSzd")("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},fxRn:function(t,e,r){r("+tPU"),r("zQR9"),t.exports=r("g8Ux")},g8Ux:function(t,e,r){var n=r("77Pl"),i=r("3fs2");t.exports=r("FeBl").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},gSvA:function(t,e,r){var n=r("kM2E"),i=r("mbce")(!0);n(n.S,"Object",{entries:function(t){return i(t)}})},h65t:function(t,e,r){var n=r("UuGF"),i=r("52gC");t.exports=function(t){return function(e,r){var o,s,u=String(i(e)),a=n(r),l=u.length;return a<0||a>=l?t?"":void 0:(o=u.charCodeAt(a))<55296||o>56319||a+1===l||(s=u.charCodeAt(a+1))<56320||s>57343?t?u.charAt(a):o:t?u.slice(a,a+2):s-56320+(o-55296<<10)+65536}}},mbce:function(t,e,r){var n=r("+E39"),i=r("lktj"),o=r("TcQ7"),s=r("NpIQ").f;t.exports=function(t){return function(e){for(var r,u=o(e),a=i(u),l=a.length,c=0,f=[];l>c;)r=a[c++],n&&!s.call(u,r)||f.push(t?[r,u[r]]:u[r]);return f}}},q2KQ:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("W3Iv"),i=r.n(n),o=r("BO1k"),s=r.n(o),u=r("d7EF"),a=r.n(u),l={data:function(){return{valid:!0,e1:0,riskTypeId:"",customAttributes:[],date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,risk:{},dialog:{},errors:null,showCancelBtn:!1,showBackBtn:!0}},methods:{closeDateWidget:function(t){this.dialog[t.key]=!1,this.risk[t.key]=null},completeStep1:function(){var t=this;if(this.riskTypeId){var e=this.riskTypes.filter(function(e){return e.id==t.riskTypeId});this.customAttributes=e?e[0].customAttributes:[];var r={};this.customAttributes.forEach(function(t){r[t.key]=null}),this.risk=r,this.errors=null,this.e1=2}else alert("You have to select a risk type")},completeStep2:function(){var t=this,e=[],r=function(r,n){var i=t.customAttributes.filter(function(t){return t.key==r}),o=i?i[0]:null;o.isRequired&&!n&&e.push(o.label+" is required.")},n=!0,o=!1,u=void 0;try{for(var l,c=s()(i()(this.risk));!(n=(l=c.next()).done);n=!0){var f=l.value,v=a()(f,2);r(v[0],v[1])}}catch(t){o=!0,u=t}finally{try{!n&&c.return&&c.return()}finally{if(o)throw u}}var p={data:this.risk};p.riskTypeId=this.riskTypeId,e.length>0?this.errors=e:this.$store.dispatch("addRisk",p)}},computed:{riskTypes:function(){return this.$store.state.riskTypes},getCurrentRiskTypeId:function(){var t=this.$route.query;t.riskTypeId&&!this.riskTypeId&&(this.riskTypeId=parseInt(t.riskTypeId),this.showCancelBtn=!0,this.showBackBtn=!1,this.completeStep1())},currentUser:function(){return this.$store.getters.user}}},c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-flex",{attrs:{"mt-3":"","mb-5":""}},[r("div",{staticClass:"col-sm-10"},[r("span",[t._v(t._s(t.getCurrentRiskTypeId))]),t._v(" "),r("h2",[t._v("New Risk")])])]),t._v(" "),r("v-flex",{attrs:{xs7:""}},[r("v-stepper",{model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:t.e1>1,step:"1"}},[t._v("Select Risk Type")]),t._v(" "),r("v-divider"),t._v(" "),r("v-stepper-step",{attrs:{step:"2"}},[t._v("Fill Information")])],1),t._v(" "),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-select",{attrs:{items:t.riskTypes,"item-text":"name","item-value":"id",label:"Risk Type",value:t.getCurrentRiskTypeId},model:{value:t.riskTypeId,callback:function(e){t.riskTypeId=e},expression:"riskTypeId"}}),t._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:t.completeStep1}},[t._v("\n                Next\n                ")])],1),t._v(" "),r("v-stepper-content",{attrs:{step:"2"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t.errors?r("v-alert",{attrs:{value:!0,color:"error",icon:"warning",outline:""}},[t._v("\n                        Can't submit form, see the errors below\n                        "),r("br"),t._v(" "),t._l(t.errors,function(e,n){return r("div",{key:n},[t._v("\n                            "+t._s(e)+"\n                        ")])})],2):t._e(),t._v(" "),t._l(t.customAttributes,function(e,n){return r("v-layout",{key:n},["text"==e.inputControl?r("v-text-field",{attrs:{id:e.key,label:e.label,required:e.isRequired},model:{value:t.risk[e.key],callback:function(r){t.$set(t.risk,e.key,r)},expression:"risk[field.key]"}}):t._e(),t._v(" "),"number"==e.inputControl?r("v-text-field",{attrs:{id:e.key,label:e.label,required:e.isRequired,type:"number"},model:{value:t.risk[e.key],callback:function(r){t.$set(t.risk,e.key,t._n(r))},expression:"risk[field.key]"}}):t._e(),t._v(" "),"textarea"==e.inputControl?r("v-textarea",{attrs:{label:e.label},model:{value:t.risk[e.key],callback:function(r){t.$set(t.risk,e.key,r)},expression:"risk[field.key]"}}):t._e(),t._v(" "),"radio button"==e.inputControl?r("v-radio-group",{attrs:{row:""},scopedSlots:t._u([{key:"label",fn:function(){return[r("div",[t._v(t._s(e.label))])]},proxy:!0}],null,!0),model:{value:t.risk[e.key],callback:function(r){t.$set(t.risk,e.key,r)},expression:"risk[field.key]"}},[t._v(" "),t._l(e.choices,function(t){return r("v-radio",{key:t,attrs:{name:e.key,label:t,value:t}})})],2):t._e(),t._v(" "),"dropdown"==e.inputControl?r("v-select",{attrs:{items:e.choices,label:e.label},model:{value:t.risk[e.key],callback:function(r){t.$set(t.risk,e.key,r)},expression:"risk[field.key]"}}):t._e(),t._v(" "),"date"==e.inputControl?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("v-dialog",{key:e.key,ref:"menu",refInFor:!0,attrs:{"return-value":t.date,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[r("v-text-field",t._g({attrs:{label:e.label,"prepend-icon":"event",readonly:""},model:{value:t.risk[e.key],callback:function(r){t.$set(t.risk,e.key,r)},expression:"risk[field.key]"}},i))]}}],null,!0),model:{value:t.dialog[e.key],callback:function(r){t.$set(t.dialog,e.key,r)},expression:"dialog[field.key]"}},[t._v(" "),r("v-date-picker",{attrs:{scrollable:""},model:{value:t.risk[e.key],callback:function(r){t.$set(t.risk,e.key,r)},expression:"risk[field.key]"}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(r){return t.closeDateWidget(e)}}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(r){return t.$set(t.dialog,e.key,!1)}}},[t._v("OK")])],1)],1)],1)],1):t._e()],1)})],2),t._v(" "),t.showBackBtn?r("v-btn",{attrs:{flat:"",outline:""},on:{click:function(e){t.e1=1}}},[t._v("Back")]):t._e(),t._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:t.completeStep2}},[t._v("\n                Save\n                ")]),t._v(" "),t.showCancelBtn?r("v-btn",{attrs:{outline:"",color:"success",to:"/risk-types/"+t.riskTypeId+"/risks"}},[t._v("\n                    Cancel\n                ")]):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]},f=r("VU/8")(l,c,!1,null,null,null);e.default=f.exports},qio6:function(t,e,r){var n=r("evD5"),i=r("77Pl"),o=r("lktj");t.exports=r("+E39")?Object.defineProperties:function(t,e){i(t);for(var r,s=o(e),u=s.length,a=0;u>a;)n.f(t,r=s[a++],e[r]);return t}},"us/S":function(t,e,r){t.exports={default:r("Xd32"),__esModule:!0}},"vIB/":function(t,e,r){"use strict";var n=r("O4g8"),i=r("kM2E"),o=r("880/"),s=r("hJx8"),u=r("/bQp"),a=r("94VQ"),l=r("e6n0"),c=r("PzxK"),f=r("dSzd")("iterator"),v=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,r,d,k,y,h){a(r,e,d);var _,b,m,x=function(t){if(!v&&t in I)return I[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},g=e+" Iterator",S="values"==k,T=!1,I=t.prototype,w=I[f]||I["@@iterator"]||k&&I[k],L=w||x(k),O=k?S?x("entries"):L:void 0,R="Array"==e&&I.entries||w;if(R&&(m=c(R.call(new t)))!==Object.prototype&&m.next&&(l(m,g,!0),n||"function"==typeof m[f]||s(m,f,p)),S&&w&&"values"!==w.name&&(T=!0,L=function(){return w.call(this)}),n&&!h||!v&&!T&&I[f]||s(I,f,L),u[e]=L,u[g]=p,k)if(_={values:S?L:x("values"),keys:y?L:x("keys"),entries:O},h)for(b in _)b in I||o(I,b,_[b]);else i(i.P+i.F*(v||T),e,_);return _}},wEtr:function(t,e,r){r("gSvA"),t.exports=r("FeBl").Object.entries},xGkn:function(t,e,r){"use strict";var n=r("4mcu"),i=r("EGZi"),o=r("/bQp"),s=r("TcQ7");t.exports=r("vIB/")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},zQR9:function(t,e,r){"use strict";var n=r("h65t")(!0);r("vIB/")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})}});
//# sourceMappingURL=1.25ebddfab5236ed9f8b0.js.map